<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue-router功能详解 | Hello VuePress</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="走过路过，不要错过！！！">
    <link rel="preload" href="/assets/css/0.styles.9bcdb81a.css" as="style"><link rel="preload" href="/assets/js/app.a9b88f43.js" as="script"><link rel="preload" href="/assets/js/2.c928decd.js" as="script"><link rel="preload" href="/assets/js/31.2ad120a6.js" as="script"><link rel="prefetch" href="/assets/js/10.76c22cb3.js"><link rel="prefetch" href="/assets/js/11.aa21000e.js"><link rel="prefetch" href="/assets/js/12.963cc0be.js"><link rel="prefetch" href="/assets/js/13.bdc7a378.js"><link rel="prefetch" href="/assets/js/14.47094ebd.js"><link rel="prefetch" href="/assets/js/15.b30b2373.js"><link rel="prefetch" href="/assets/js/16.24846fcc.js"><link rel="prefetch" href="/assets/js/17.45d9587b.js"><link rel="prefetch" href="/assets/js/18.4a8dfd7f.js"><link rel="prefetch" href="/assets/js/19.9c1c86a7.js"><link rel="prefetch" href="/assets/js/20.429b2f6f.js"><link rel="prefetch" href="/assets/js/21.d4688b40.js"><link rel="prefetch" href="/assets/js/22.47f6a60d.js"><link rel="prefetch" href="/assets/js/23.c953398d.js"><link rel="prefetch" href="/assets/js/24.f1caea8d.js"><link rel="prefetch" href="/assets/js/25.174cb54a.js"><link rel="prefetch" href="/assets/js/26.2a25f51b.js"><link rel="prefetch" href="/assets/js/27.204ab72e.js"><link rel="prefetch" href="/assets/js/28.8ca9e271.js"><link rel="prefetch" href="/assets/js/29.08179e55.js"><link rel="prefetch" href="/assets/js/3.889ebcb4.js"><link rel="prefetch" href="/assets/js/30.b9255464.js"><link rel="prefetch" href="/assets/js/32.208d57b2.js"><link rel="prefetch" href="/assets/js/33.387e5c40.js"><link rel="prefetch" href="/assets/js/34.6f43c253.js"><link rel="prefetch" href="/assets/js/35.122a6b0d.js"><link rel="prefetch" href="/assets/js/36.68b7c5f2.js"><link rel="prefetch" href="/assets/js/37.f4cfa24e.js"><link rel="prefetch" href="/assets/js/4.94b1e7c7.js"><link rel="prefetch" href="/assets/js/5.015162a9.js"><link rel="prefetch" href="/assets/js/6.2f5001b9.js"><link rel="prefetch" href="/assets/js/7.d597a4b8.js"><link rel="prefetch" href="/assets/js/8.467bafe2.js"><link rel="prefetch" href="/assets/js/9.188b2ef8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9bcdb81a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Hello VuePress</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/document/vue/" class="nav-link">
  Document
</a></div><div class="nav-item"><a href="https://www.baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Baidu
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/document/vue/" class="nav-link">
  Document
</a></div><div class="nav-item"><a href="https://www.baidu.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Baidu
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/document/vue/" class="sidebar-link">vue框架简介</a></li><li><a href="/document/vue/1.solt.html" class="sidebar-link">Slot简介</a></li><li><a href="/document/vue/2.vue响应式讲解-object.html" class="sidebar-link">vue响应式讲解-object</a></li><li><a href="/document/vue/3.vue响应式讲解-array.html" class="sidebar-link">vue响应式讲解-array</a></li><li><a href="/document/vue/4.虚拟dom&amp;diff.html" class="sidebar-link">虚拟dom&amp;diff算法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>vue-router</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/document/vue-router/vue-router.html" aria-current="page" class="active sidebar-link">Vue-router功能详解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/vue-router/vue-router.html#基础功能" class="sidebar-link">基础功能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/vue-router/vue-router.html#_1-使用vue-router" class="sidebar-link">1. 使用vue-router</a></li><li class="sidebar-sub-header"><a href="/document/vue-router/vue-router.html#_2-动态路由匹配" class="sidebar-link">2. 动态路由匹配</a></li><li class="sidebar-sub-header"><a href="/document/vue-router/vue-router.html#_3-嵌套路由" class="sidebar-link">3. 嵌套路由</a></li><li class="sidebar-sub-header"><a href="/document/vue-router/vue-router.html#_4-编程式导航" class="sidebar-link">4. 编程式导航</a></li><li class="sidebar-sub-header"><a href="/document/vue-router/vue-router.html#_5-重定向和别名" class="sidebar-link">5. 重定向和别名</a></li><li class="sidebar-sub-header"><a href="/document/vue-router/vue-router.html#_6-路由组件传参" class="sidebar-link">6. 路由组件传参</a></li></ul></li><li class="sidebar-sub-header"><a href="/document/vue-router/vue-router.html#进阶功能" class="sidebar-link">进阶功能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/document/vue-router/vue-router.html#_1-导航守卫" class="sidebar-link">1. 导航守卫</a></li><li class="sidebar-sub-header"><a href="/document/vue-router/vue-router.html#_2-路由元信息" class="sidebar-link">2. 路由元信息</a></li><li class="sidebar-sub-header"><a href="/document/vue-router/vue-router.html#_3-数据获取" class="sidebar-link">3. 数据获取</a></li><li class="sidebar-sub-header"><a href="/document/vue-router/vue-router.html#_4-滚动" class="sidebar-link">4. 滚动</a></li><li class="sidebar-sub-header"><a href="/document/vue-router/vue-router.html#_5-路由懒加载" class="sidebar-link">5. 路由懒加载</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Webpack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/document/webpack/webpack版本区别.html" class="sidebar-link">webpack版本区别</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>vue-cli3</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/document/vue-cli3/cli3项目性能优化步骤.html" class="sidebar-link">cli3项目性能优化步骤</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>h5特性</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/document/h5/h5新特性.html" class="sidebar-link">H5新特性</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>原生js</span> <!----></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>git讲解</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/document/git/" class="sidebar-link">git</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>扩展+</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/document/other/OSI模型.html" class="sidebar-link">OSI模型</a></li><li><a href="/document/other/websocket.html" class="sidebar-link">websocket</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue-router功能详解"><a href="#vue-router功能详解" class="header-anchor">#</a> Vue-router功能详解</h1> <h2 id="基础功能"><a href="#基础功能" class="header-anchor">#</a> 基础功能</h2> <h3 id="_1-使用vue-router"><a href="#_1-使用vue-router" class="header-anchor">#</a> 1. 使用vue-router</h3> <div class="language- extra-class"><pre class="language-text"><code>  // 1. 创建router实例
  import Router from 'vue-router'
  Vue.use(Router)
  const router = new Router({
    routes: [
      //......
    ]
  })

  // 2. 注入router实例到vue
  new Vue({
    router,
    render: h =&gt; h(App)
  }).$mount('#app)
</code></pre></div><h3 id="_2-动态路由匹配"><a href="#_2-动态路由匹配" class="header-anchor">#</a> 2. 动态路由匹配</h3> <p><strong>简介：通过router参数query或params来匹配相应的路由</strong></p> <div class="language- extra-class"><pre class="language-text"><code>  const router = new VueRouter({
    routes: [
      // 动态路径参数 以冒号开头
      { path: '/user/:id', component: User }
    ]
  })
</code></pre></div><h3 id="_3-嵌套路由"><a href="#_3-嵌套路由" class="header-anchor">#</a> 3. 嵌套路由</h3> <p><strong>简介：通常项目是由多页面（视图）组成，这时需要按照某种结构嵌套视图和组件</strong></p> <div class="language- extra-class"><pre class="language-text"><code>  1. router进行嵌套配置：
  routes: [
    {
      name: xxx,
      path: /xxx,
      component: xxx,
      children: [
        {
          path: yyy,
          name: yyy,
          component: yyy
        }
      ]
    }
  ]

  2. 当同级视图有多个时，需要对视图进行命名：
  &lt;router-view name='view1'&gt;&lt;/router-view&gt;
  &lt;router-view name='view2'&gt;&lt;/router-view&gt;

  对应对路由也需要指定相应对视图：
  routes: [
    {
      path: xxx,
      name: xxx
      components: {
        view2: xxx
      }
    }
  ]
</code></pre></div><h3 id="_4-编程式导航"><a href="#_4-编程式导航" class="header-anchor">#</a> 4. 编程式导航</h3> <div class="language- extra-class"><pre class="language-text"><code>// 字符串
  router.push('home')

// 对象
  router.push({ path: 'home' })

// 命名的路由
  router.push({ name: 'user',params: { userId: '123' }})

// 带查询参数，变成 /register?plan=private
  router.push({ path: 'register', query: { plan: 'private' }})


ps: 如果提供了 path，params 会被忽略, path和params参数不能同时存在
</code></pre></div><h3 id="_5-重定向和别名"><a href="#_5-重定向和别名" class="header-anchor">#</a> 5. 重定向和别名</h3> <div class="language- extra-class"><pre class="language-text"><code>  1. 重定向
  routes: [
    { path: '/a', redirect: '/b' }
  ]

  2. 别名
  routes: [
    { path: '/a', component: A, alias: '/b' }
  ]
  ps: 相当于 a路由多了一个名为b的路由名
</code></pre></div><h3 id="_6-路由组件传参"><a href="#_6-路由组件传参" class="header-anchor">#</a> 6. 路由组件传参</h3> <div class="language- extra-class"><pre class="language-text"><code>  1. 通过$route实例获取参数：
    $route.params.xxx
    $route.query.xxx

  2. 通过设置props获取，在路由开启props，然后在组件内通过props参数获取：
    *router.js:
      routes: [
        { path: '/user/:id',component: User, props: true },
      ]

    *xxx.vue: 
      export default {
        props: ['id']
      }

</code></pre></div><h2 id="进阶功能"><a href="#进阶功能" class="header-anchor">#</a> 进阶功能</h2> <h3 id="_1-导航守卫"><a href="#_1-导航守卫" class="header-anchor">#</a> 1. 导航守卫</h3> <div class="language- extra-class"><pre class="language-text"><code>  1. 全局导航守卫
    router.beforeEach((to, from, next) =&gt; {
      // ...
    })

  2. 路由独享守卫
    routes: [
      {
        path: '/foo',
        component: Foo,
        beforeEnter: (to, from, next) =&gt; {
          // ...
        }
      }
    ]

  3. 组件内守卫
  export default {
    beforeRouteEnter (to, from, next) {
    },
  }

ps: 参数和其他守卫api请查看线上文档
</code></pre></div><h3 id="_2-路由元信息"><a href="#_2-路由元信息" class="header-anchor">#</a> 2. 路由元信息</h3> <div class="language- extra-class"><pre class="language-text"><code>  // meta字段我们让我们保存每个组件的信息
  routes: [
    path: xxx,
    name: xxx,
    meta: {
      xxx
    }
  ]

  // 通过$route.matched获取meta字段里的信息
</code></pre></div><h3 id="_3-数据获取"><a href="#_3-数据获取" class="header-anchor">#</a> 3. 数据获取</h3> <div class="language- extra-class"><pre class="language-text"><code>  1. 导航完成之后获取：先完成导航，然后在接下来的组件生命周期钩子中获取数据。在数据获取期间显示“加载中”之类的指示。

  2. 导航完成之前获取：导航完成前，在路由进入的守卫中获取数据，在数据获取成功后执行导航。

  ps：详情请看线上文档
</code></pre></div><h3 id="_4-滚动"><a href="#_4-滚动" class="header-anchor">#</a> 4. 滚动</h3> <div class="language- extra-class"><pre class="language-text"><code>  可以通过scrollBehavior函数来设置滚动位置
  const router = new VueRouter({
    routes: [...],
    scrollBehavior (to, from, savedPosition) {
      return { x: 0, y: 0 } // 滚动到顶部
    }
  })
</code></pre></div><h3 id="_5-路由懒加载"><a href="#_5-路由懒加载" class="header-anchor">#</a> 5. 路由懒加载</h3> <div class="language- extra-class"><pre class="language-text"><code>  // 通过Promise函数实现懒加载
  const test = Promise.resolve({/* 组件定义对象 */})

  // 用动态 import语法来定义代码分块点
  import('./test.vue') // 也是Promise函数

  // 结合以上两者：
  const test = () =&gt; import('./test.vue')
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/document/vue/4.虚拟dom&amp;diff.html" class="prev">
        虚拟dom&amp;diff算法
      </a></span> <span class="next"><a href="/document/webpack/webpack版本区别.html">
        webpack版本区别
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a9b88f43.js" defer></script><script src="/assets/js/2.c928decd.js" defer></script><script src="/assets/js/31.2ad120a6.js" defer></script>
  </body>
</html>
